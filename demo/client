#!/bin/bash

LOG=$PWD"/logs"
DATASET=$PWD"/datasets"
SCRIPTS=$PWD"/scripts"

stat $DATASET > /dev/null 2>&1
if [ "$?" != 0 ]; then
	echo "The dataset dir was not found. Exiting"
	exit 1
fi

stat $LOG > /dev/null 2>&1
if [ "$?" != 0 ]; then
	echo "The logs directory not found, creating it."
	mkdir logs
fi

stat $SCRITPS > /dev/null 2>&1
if [ "$?" != 0 ]; then
	mkdir scripts
fi

docker run --rm --net=host --name=client -v $LOG":/logs" -v $DATASET":/datasets" -v $SCRIPTS":/scripts" mie_client custom "$@"